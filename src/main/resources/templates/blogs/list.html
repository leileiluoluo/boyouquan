<!DOCTYPE html>
<html lang="zh" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head th:replace="~{fragments/head/head::head('博客广场 - 博友圈 · 博客人的朋友圈！', '博客广场, 博客列表', '展示博友圈所收录的全部博客。')}"></head>
    <body class="list" id="top">
    <script th:src="@{/assets/js/theme-settings.js}" type="text/javascript"></script>
    <header th:replace="~{fragments/header/header::header}"></header>
    <main class="main">
        <article th:replace="~{fragments/header/header_info::header_info('欢迎来博客广场发现好博客！截止目前博友圈共收录' + ${totalBlogs} + '个独立博客，按收录时间由近及远展示，快来搜一搜您自己的博客在不在里边吧，没有的话就快来提交吧！')}"></article>
        <div id="searchbox">
            <input id="searchInput" autofocus="" placeholder="搜索博客 ↵" aria-label="search" type="search" autocomplete="off">
        </div>
        <div class="blog-container">
            <article th:each="blogInfo, iterstat: ${pagination.results}" class="blog-entry">
                <header class="icon-and-title">
                    <div class="flex-item">
                        <a th:href="'/blogs/' + ${blogInfo.domainName}">
                            <img th:src="${blogInfo.blogAdminSmallImageURL}"/>
                        </a>
                    </div>
                    <div class="flex-item">
                        <a th:href="'/blogs/' + ${blogInfo.domainName}"><h4 th:text="${blogInfo.name}"></h4></a>
                    </div>
                </header>
                <div class="domain">
                    <div class="flex-item-left">
                        <div class="domain-name">
                            <a th:text="${blogInfo.domainName}" th:href="'/go?link=' + ${@thymeLeafTemplateHelper.urlEncode(blogInfo.address)}"></a>
                        </div>
                        <div class="link">
                            <a th:href="'/go?link=' + ${@thymeLeafTemplateHelper.urlEncode(blogInfo.address)}">
                                <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                                    <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                                    <path d="M15 3h6v6"></path>
                                    <path d="M10 14L21 3"></path>
                                </svg>
                            </a>
                        </div>
                    </div>
                    <div class="flex-item-right">
                        <p th:text="'收录于 ' + ${@thymeLeafTemplateHelper.dateCommonFormatDisplay(blogInfo.collectedAt)}"></p>
                    </div>
                </div>
                <div class="description">
                    <p th:text="${blogInfo.description}"></p>
                </div>
                <div class="summary">
                    <div class="flex-item left">
                        <div class="title">
                            <p>文章收录</p>
                        </div>
                        <div class="count">
                            <p th:text="${blogInfo.postCount}"></p>
                        </div>
                    </div>
                    <div class="flex-item center">
                        <div class="title">
                            <p>文章浏览</p>
                        </div>
                        <div class="count">
                            <p th:text="${blogInfo.accessCount}"></p>
                        </div>
                    </div>
                    <div class="flex-item right">
                        <div class="title">
                            <p>最近更新</p>
                        </div>
                        <div class="count">
                            <p th:text="${@thymeLeafTemplateHelper.dateFriendlyDisplay(blogInfo.latestPublishedAt)}"></p>
                        </div>
                    </div>
                </div>
                <div class="latest-posts">
                    <p>最新文章</p>
                    <p th:each="post, iterstat: ${blogInfo.posts}">
                        <text style="margin-right: 6px;" th:text="${@thymeLeafTemplateHelper.dateCommonFormatDisplay(post.publishedAt)}"></text>
                        <a th:text="${post.title}" th:href="'/go?link=' + ${@thymeLeafTemplateHelper.urlEncode(post.link)}"></a>
                    </p>
                </div>
                <footer class="bottom-info">
                    <div class="status-info">
                        <div style="background-color: #0dcb0d;" class="status-icon"></div>
                        <p th:text="可以访问"></p>
                    </div>
                    <div class="submitted-info">
                        <img th:src="@{/assets/images/sites/blog_detail/info-icon.png}">
                        <p th:text="${blogInfo.submittedInfo}"></p>
                    </div>
                </footer>
            </article>
        </div>
        <footer class="page-footer blog-footer">
            <!-- if hasKeyword -->
            <nav th:if="${hasKeyword}" class="pagination">
                <a class="pre" th:if="${pagination.pageNo} > 1" th:href="'/blogs/page/' + ${pagination.pageNo - 1} + '?keyword=' + ${keyword}">« 上一页</a>
                <a class="next" th:if="${pagination.hasNextPage()}" th:href="'/blogs/page/' + ${pagination.pageNo + 1} + '?keyword=' + ${keyword}">下一页 »</a>
            </nav>

            <!-- else -->
            <nav th:unless="${hasKeyword}" class="pagination">
                <a class="pre" th:if="${pagination.pageNo} > 1" th:href="'/blogs/page/' + ${pagination.pageNo - 1}">« 上一页</a>
                <a class="next" th:if="${pagination.hasNextPage()}" th:href="'/blogs/page/' + ${pagination.pageNo + 1}">下一页 »</a>
            </nav>
        </footer>
    </main>
    <footer class="footer-block">
        <div th:replace="~{fragments/footer/blog_summary::blog_summary(${totalBlogs}, ${totalBlogPosts}, ${accessTotal})}"></div>
        <div th:replace="~{fragments/footer/contact::contact}"></div>
        <div th:replace="~{fragments/footer/shuttle::shuttle}"></div>
    </footer>
    <footer th:replace="~{fragments/footer/footer_site_info::footer_site_info}"></footer>
    <div th:insert="~{fragments/plugin/go_to_top::go_to_top}"></div>
    <script th:src="@{/assets/js/highlight-menu.js}" type="text/javascript"></script>
    <script th:src="@{/assets/js/scroll.js}" type="text/javascript"></script>
    <script th:src="@{/assets/js/theme-listener.js}" type="text/javascript"></script>
    <script th:src="@{/assets/js/to-top.js}" type="text/javascript"></script>
    <script th:src="@{/assets/js/blog-search.js}" type="text/javascript"></script>
    <script th:src="@{/assets/js/tongji.js}" type="text/javascript"></script>
    </body>
</html>
